{% extends 'AppArena/base.html' %}

{% block content %}
    <form method="post">
        {% csrf_token %}
        <div class="container_big container_fsb">
            <div class="container">
                <div class="margin-bottom">
                    <p class="name_hint" >{{ form.username.label }}</p>
                    {{ form.username }}
                    <ul>{{ form.username.errors }}</ul>
                </div>
                <div class="margin-bottom">
                    <p class="name_hint" >{{ form.password1.label }}</p>
                    {{ form.password1 }}
                    <ul >{{ form.password1.errors }}</ul>
                </div>
                <div class="margin-bottom">
                    <p class="name_hint" >{{ form.password2.label }}</p>
                    {{ form.password2 }}
                    <ul>{{ form.password2.errors }}</ul>
                </div>
            </div>
            <div class="container">
                <div class="margin-bottom">
                    <p class="name_hint" >{{ form.last_name.label }}</p>
                    {{ form.last_name }}
                    <ul>{{ form.last_name.errors }} </ul>
                </div>
                <div class="margin-bottom">
                    <p class="name_hint" >{{ form.first_name.label }}</p>
                    {{ form.first_name }}
                    <ul>{{ form.first_name.errors }}</ul>
                </div>
                <div class="margin-bottom">
                    <p class="name_hint" >{{ form.patronymic.label }}</p>
                    {{ form.patronymic }}
                    <ul>{{ form.patronymic.errors }}</ul>
                </div>
                <div class="margin-bottom" id="id_id_trener">
                    <p class="name_hint" >{{ form.id_trener.label }}</p>
                    {{ form.id_trener }}
                    <ul>{{ form.id_trener.errors }}</ul>
                </div>


            </div>
             <div class="container">
                <div class="margin-bottom">
                    <p class="name_hint" >{{ form.role.label }}</p>
                    {{ form.role }}
                    <ul>{{ form.role.errors }}</ul>
                </div>
                <div class="margin-bottom" id="id_weight_participants_div" >
                    <p class="name_hint" >{{ form.weight_participants.label }}</p>
                    {{ form.weight_participants }}
                    <ul>{{ form.weight_participants.errors }}</ul>
                </div>
                <div class="margin-bottom" id="id_date_birth_participants_div">
                    <p class="name_hint" >{{ form.date_birth_participants.label }}</p>
                    {{ form.date_birth_participants }}
                    <ul>{{ form.date_birth_participants.errors }}</ul>
                </div>
                <div class="margin-bottom" id="id_medical_insurance_participants_div">
                    <p class="name_hint" >{{ form.medical_insurance_participants.label }}</p>
                    {{ form.medical_insurance_participants }}
                    <ul>{{ form.medical_insurance_participants.errors }}</ul>
                </div>
                 <div class="margin-bottom" id="id_license_number_trainer_div">
                    <p class="name_hint" >{{ form.license_number_trainer.label }}</p>
                     {{ form.license_number_trainer }}
                     <ul>{{ form.license_number_trainer.errors }}</ul>
                </div>

            </div>
        </div>
        <div class="container container_fsb">
            <div class="margin-bottom " style="align-items: center; display: flex; flex-wrap: nowrap; margin-left: 22px">
                <input type="checkbox" name="consent" required id="id_consent" style="width: 20px;" >
                <p class="name_hint" style="white-space: nowrap; margin: 0;">даю согласие на обработку персональных данных</p>
                <ul style="margin: 0;"></ul>
            </div>
        </div>

        <div class="container">
            <div class="container_fsb">
                <button type="submit" class="btn-submit btn-content" style="margin-left: 22px">{{ name_btn }}</button>
                <a href="{% url 'login' %}" class="btn-submit navig btn-content">На вход</a>
            </div>
            <ul>{{ form.not_field_errors }}</ul>
        </div>
    </form>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            if ($('#id_role').val() !== '1') {
                $('#id_license_number_trainer_div').show();
                $('#id_weight_participants_div').hide();
                $('#id_id_trener').hide();
                $('#id_date_birth_participants_div').hide();
                $('#id_medical_insurance_participants_div').hide();
            } else {
                $('#id_license_number_trainer_div').hide();
                $('#id_weight_participants_div').show();
                $('#id_id_trener').show();
                $('#id_medical_insurance_participants_div').show();
                $('#id_date_birth_participants_div').show();
            }

            $('#id_role').change(function() {
                if ($(this).val() !== '1') {
                    $('#id_license_number_trainer_div').show();
                    $('#id_weight_participants_div').hide();
                    $('#id_id_trener').hide();
                    $('#id_date_birth_participants_div').hide();
                    $('#id_medical_insurance_participants_div').hide();
                } else {
                    $('#id_license_number_trainer_div').hide();
                    $('#id_weight_participants_div').show();
                    $('#id_id_trener').show();
                    $('#id_medical_insurance_participants_div').show();
                    $('#id_date_birth_participants_div').show();
                }
            });
        });
    </script>

{% endblock %}
